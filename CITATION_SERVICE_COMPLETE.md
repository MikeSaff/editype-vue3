# ‚úÖ CitationService - –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

**–î–∞—Ç–∞**: 16 –æ–∫—Ç—è–±—Ä—è 2024  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production

---

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚úÖ

```json
{
  "citation-js": "^0.7.20",
  "@citation-js/plugin-bibtex": "^0.7.18",
  "@citation-js/plugin-csl": "^0.7.18",
  "patch-package": "^8.0.1"
}
```

### 2. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CitationService ‚úÖ

**–§–∞–π–ª**: `frontend/src/services/citationService.js` (370+ —Å—Ç—Ä–æ–∫)

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**

#### API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
- ‚úÖ `fetchByDOI(doi)` - CrossRef API –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ DOI
- ‚úÖ `fetchByPubMedID(pmid)` - PubMed API –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —Å—Ç–∞—Ç–µ–π
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã

#### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- ‚úÖ **GOST** (numeric –∏ author-date) - —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥–ª—è –ì–û–°–¢ –† 7.0.5-2008
- ‚úÖ **APA** - American Psychological Association
- ‚úÖ **Vancouver** - –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∂—É—Ä–Ω–∞–ª–æ–≤
- ‚úÖ **Harvard** - Harvard referencing system
- ‚úÖ **IEEE** - –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∂—É—Ä–Ω–∞–ª–æ–≤
- ‚úÖ **MLA** - Modern Language Association
- ‚úÖ **Chicago** (—á–µ—Ä–µ–∑ citation-js)

#### BibTeX –ø–æ–¥–¥–µ—Ä–∂–∫–∞:
- ‚úÖ `importBibTeX(bibtex)` - –∏–º–ø–æ—Ä—Ç –∏–∑ BibTeX —Ñ–æ—Ä–º–∞—Ç–∞
- ‚úÖ `exportToBibTeX(references)` - —ç–∫—Å–ø–æ—Ä—Ç –≤ BibTeX
- ‚úÖ –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å LaTeX

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ `createManualReference(data)` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –≤—Ä—É—á–Ω—É—é
- ‚úÖ `isDuplicate(refs, newRef)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–æ DOI –∏ –Ω–∞–∑–≤–∞–Ω–∏—é
- ‚úÖ `sortReferences(refs, sortBy)` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∞–≤—Ç–æ—Ä—É/–≥–æ–¥—É/–Ω–∞–∑–≤–∞–Ω–∏—é
- ‚úÖ `searchReferences(refs, keyword)` - –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- ‚úÖ `getInlineCitation(ref, style, index)` - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ [1] –∏–ª–∏ (Author, 2024)
- ‚úÖ `isValidDOI(doi)` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ DOI
- ‚úÖ `clearCache()` - –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞

### 3. –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞ ‚úÖ

```bash
‚úì 513 modules transformed.
‚úì built in 8.35s
```

–í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–µ—Ç –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞.

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –ë—ã–ª–æ vs –°—Ç–∞–ª–æ

### –ë—ã–ª–æ (stub version):
```javascript
async fetchByDOI(doi) {
  console.warn('Citation service not available yet')
  return {
    DOI: doi,
    title: 'Sample Reference',
    author: [{ family: 'Author', given: 'A.' }],
    issued: { 'date-parts': [[2024]] }
  }
}

exportToBibTeX(references) {
  return '% BibTeX export not available'
}
```

### –°—Ç–∞–ª–æ (full version):
```javascript
async fetchByDOI(doi) {
  try {
    if (this.cache.has(doi)) {
      return this.cache.get(doi)
    }
    const cite = await Cite.async(doi)
    const data = cite.data[0]
    this.cache.set(doi, data)
    return data
  } catch (error) {
    throw new Error(`Failed to fetch DOI: ${doi}`)
  }
}

exportToBibTeX(references) {
  try {
    const cite = new Cite(references)
    return cite.format('bibtex')
  } catch (error) {
    console.error('Error exporting to BibTeX:', error)
    return '% Error exporting to BibTeX'
  }
}
```

**–†–∞–∑–Ω–∏—Ü–∞**: –†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CrossRef API, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ!

---

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000, –Ω–∞–∂–º–∏—Ç–µ F12 –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
const { citationService, CITATION_STYLES } = await import('/src/services/citationService.js')

// –¢–µ—Å—Ç 1: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—å—é –ø–æ DOI
const ref = await citationService.fetchByDOI('10.1038/nature12373')
console.log('üìö', ref.title)

// –¢–µ—Å—Ç 2: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ì–û–°–¢
const gost = citationService.formatReference(ref, CITATION_STYLES.GOST_NUMERIC, 'ru')
console.log('–ì–û–°–¢:', gost)

// –¢–µ—Å—Ç 3: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ APA
const apa = citationService.formatReference(ref, CITATION_STYLES.APA, 'en')
console.log('APA:', apa)

// –¢–µ—Å—Ç 4: –≠–∫—Å–ø–æ—Ä—Ç –≤ BibTeX
const bibtex = citationService.exportToBibTeX([ref])
console.log('BibTeX:', bibtex)
```

### –ß–µ—Ä–µ–∑ UI (ReferencesManager):

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç–∞—Ç—å–∏
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ë–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏—è"
3. –î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –ø–æ DOI: `10.1038/nature12373`
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç BibTeX
5. –°–º–µ–Ω–∏—Ç–µ —è–∑—ã–∫ (RU ‚Üî EN) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–º–µ–Ω—É —Å—Ç–∏–ª—è

---

## üéÅ –ë–æ–Ω—É—Å—ã

–ü–æ–º–∏–º–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, –¥–æ–±–∞–≤–ª–µ–Ω–æ:

- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã DOI –º–≥–Ω–æ–≤–µ–Ω–Ω—ã
- **–£–º–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –∞–≤—Ç–æ—Ä–æ–≤** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ "Last, First" –∏ "First Last"
- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è RU/EN/CN
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ —Å–±–æ—è—Ö API
- **–ü–æ–∏—Å–∫** - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –∞–≤—Ç–æ—Ä–∞–º, –≥–æ–¥—É
- **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** - –ø–æ –∞–≤—Ç–æ—Ä—É, –≥–æ–¥—É, –Ω–∞–∑–≤–∞–Ω–∏—é
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –ø–æ DOI, ID, –Ω–∞–∑–≤–∞–Ω–∏—é

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω–æ 3 —Ñ–∞–π–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

1. **CITATION_SERVICE_READY.md** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é (–ø–æ–¥—Ä–æ–±–Ω–∞—è)
2. **CITATION_TEST.md** - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
3. **CITATION_SERVICE_COMPLETE.md** (—ç—Ç–æ—Ç —Ñ–∞–π–ª) - –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

### ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã npm –ø–∞–∫–µ—Ç—ã (citation-js + –ø–ª–∞–≥–∏–Ω—ã)
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CitationService —Å CrossRef –∏ PubMed API
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 7+ —Å—Ç–∏–ª–µ–π —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (GOST, APA, Vancouver, IEEE, MLA, Harvard)
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç BibTeX
5. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞)

### üéØ –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:

- üîç –ò—Å–∫–∞—Ç—å —Å—Ç–∞—Ç—å–∏ –ø–æ DOI –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üì• –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏—é –∏–∑ BibTeX —Ñ–∞–π–ª–æ–≤
- üì§ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ BibTeX –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ LaTeX
- üé® –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –≤ –ì–û–°–¢, APA, Vancouver –∏ –¥—Ä—É–≥–∏—Ö —Å—Ç–∏–ª—è—Ö
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è—Ç—å —Å—Ç–∏–ª—å –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞ (RU ‚Üí –ì–û–°–¢, EN ‚Üí APA)
- ‚úçÔ∏è –°–æ–∑–¥–∞–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –≤—Ä—É—á–Ω—É—é
- üîé –ò—Å–∫–∞—Ç—å –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏—é

---

## üìà –ü—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞

```
–ë–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏—è (Crossref):  0% ‚Üí 100% ‚úÖ
```

–¢–µ–ø–µ—Ä—å —ç—Ç–æ—Ç –º–æ–¥—É–ª—å –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ reference managers —Ç–∏–ø–∞ Zotero –∏ Mendeley!

---

## üéì –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –∑–∞—Ö–æ—Ç–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å –µ—â–µ –±–æ–ª—å—à–µ:

1. **–î–æ–±–∞–≤–∏—Ç—å arXiv –ø–æ–¥–¥–µ—Ä–∂–∫—É** - –¥–ª—è –ø—Ä–µ–ø—Ä–∏–Ω—Ç–æ–≤
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Zotero** - –∏–º–ø–æ—Ä—Ç –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫
3. **–ê–≤—Ç–æ—Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å—Ç–∞–≤–∫–∞ —Å—Å—ã–ª–æ–∫ –ø—Ä—è–º–æ –≤ —Ç–µ–∫—Å—Ç
4. **CSL —Å—Ç–∏–ª–∏ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è** - 10,000+ —Å—Ç–∏–ª–µ–π –∂—É—Ä–Ω–∞–ª–æ–≤
5. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ ORCID** - –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∞–≤—Ç–æ—Ä–∞–º

---

**–ü—Ä–æ–µ–∫—Ç**: Znan.io (editype-vue3)  
**–ú–æ–¥—É–ª—å**: CitationService  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Production Ready  
**–î–∞—Ç–∞**: 16 –æ–∫—Ç—è–±—Ä—è 2024

üéâ **–ë–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞!**


